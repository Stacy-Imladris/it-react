"use strict";(self.webpackChunkit_react=self.webpackChunkit_react||[]).push([[998],{998:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var i=s(7853),r=s(4531),o=s(8932),n=s(2587),a=s(2791),l="ProfileInfo_avatar__aRRiq",d=s(3445),u=s(4353),c="ProfileData_descriptionBlock__WCLO+",h=s(184),p=function(e){var t=e.profile,s=e.setEditMode,i=t.contacts,r=t.fullName,o=t.aboutMe,n=t.lookingForAJob,a=t.lookingForAJobDescription,l=Object.values(i||{});return(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("button",{onClick:function(){s(!0)},children:"Edit profile"}),(0,h.jsx)("div",{children:r}),(0,h.jsx)("div",{children:o}),(0,h.jsx)("div",{children:n?"I'm looking for a job right now":"I don't need a job"}),(0,h.jsx)("div",{children:a}),(0,h.jsx)("span",{children:"Where you can find me: "}),l.map((function(e){return e&&(0,h.jsx)("div",{children:e},e)}))]})},f=s(6139),v=s(704),m=s(1117),j=s(9234),x=(0,v.Z)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.error,i=e.initialValues,r=Object.entries(i.contacts||{});return(0,h.jsxs)("form",{onSubmit:t,children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Save changes"})}),s&&(0,h.jsx)("div",{className:j.Z.formSummaryError,children:s}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Full name"}),":",(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{placeholder:"Full name",name:"fullName",component:m.I,validate:[]})}),(0,h.jsx)("b",{children:"About me"}),":",(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{placeholder:"About me",name:"aboutMe",component:m.g,validate:[]})}),(0,h.jsx)("b",{children:"Looking for a job"}),":",(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{name:"lookingForAJob",component:m.I,validate:[],type:"checkbox"})}),(0,h.jsx)("b",{children:"My professional skills"}),":",(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{placeholder:"My professional skills",name:"lookingForAJobDescription",component:m.g,validate:[]})}),(0,h.jsx)("b",{children:"Where you can find me"}),":",r.map((function(e){return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[e[0],": "]}),(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{name:"contacts.".concat(e[0],"}"),component:m.I,validate:[]})})]},e[0]+e[1])}))]})]})}));var b=s(2327);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var i,r,o=[],n=!0,a=!1;try{for(s=s.call(e);!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return o}}(e,t)||(0,b.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){var t=e.status,s=e.updateStatus,i=g((0,a.useState)(!1),2),r=i[0],o=i[1],n=g((0,a.useState)(t),2),l=n[0],d=n[1];(0,a.useEffect)((function(){d(t)}),[t]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){o(!0)},children:t||"no status"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(e){d(e.currentTarget.value)},value:l,onBlur:function(){s(l),o(!1)},autoFocus:!0})})]})},y=function(e){var t=e.profile,s=e.status,i=e.updateStatus,r=e.savePhoto,o=e.saveProfile,n=e.isOwner,a=e.isEditMode,c=e.setEditMode;if(!t)return(0,h.jsx)(d.p,{});return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("img",{src:t.photos.large||u}),n&&(0,h.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&r(e.target.files[0])}}),(0,h.jsx)(P,{status:s,updateStatus:i})]}),a?(0,h.jsx)(x,{initialValues:t,onSubmit:function(e){o(e)}}):(0,h.jsx)(p,{profile:t,setEditMode:c})]})},k=s(5531),M="MyPosts_postBlock__1A7Uz",S="MyPosts_posts__WlC3n",E="Post_item__z6vKl",_=function(e){var t=e.message,s=e.likeCount;return(0,h.jsxs)("div",{className:E,children:[(0,h.jsx)("img",{src:"https://99px.ru/sstorage/1/2012/06/image_10406120020582211120.gif"}),t,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like"})," ",s]})]})},I=s(3079),Z=(0,I.D)(10),C=(0,v.Z)({form:"profileAddPostForm"})((function(e){var t=e.handleSubmit;return(0,h.jsxs)("form",{onSubmit:t,children:[(0,h.jsx)("div",{children:(0,h.jsx)(f.Z,{placeholder:"Enter your post",name:"newPostBody",component:m.g,validate:[I.C,Z]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),A=a.memo((function(e){var t=e.posts,s=e.addPost,i=(0,k.Z)(t).reverse().map((function(e){return(0,h.jsx)(_,{message:e.message,likeCount:e.likesCount},e.id)}));return(0,h.jsxs)("div",{className:M,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(C,{onSubmit:function(e){s(e.newPostBody)}}),(0,h.jsx)("div",{className:S,children:i})]})})),w=s(81),N=s(7375),F=(0,N.$j)((function(e){return{posts:e.profilePage.posts}}),{addPost:w.ef.addPost})(A),D=function(e){var t=e.profile,s=e.status,i=e.updateStatus,r=e.isOwner,o=e.savePhoto,n=e.saveProfile,a=e.isEditMode,l=e.setEditMode;return(0,h.jsxs)("div",{children:[(0,h.jsx)(y,{profile:t,status:s,updateStatus:i,isOwner:r,savePhoto:o,saveProfile:n,isEditMode:a,setEditMode:l}),(0,h.jsx)(F,{})]})},O=s(9723),U=s(97),z=function(e){(0,o.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,i.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props,t=e.match,s=e.authorizedUserId,i=e.history,r=e.getUserProfile,o=e.getStatus,n=+t.params.userId;n||(n=s)||i.push("/login"),r(n),o(n)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(D,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:+this.props.match.params.userId===this.props.authorizedUserId||!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,isEditMode:this.props.isEditMode,setEditMode:this.props.setEditMode})}}]),s}(a.Component),B=(0,U.qC)((0,N.$j)((function(e){return{profile:e.profilePage.profile,isEditMode:e.profilePage.isEditMode,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:w.et,getStatus:w.lR,updateStatus:w.Nf,savePhoto:w.Ju,saveProfile:w.Ii,setEditMode:w.ef.setEditMode}),O.EN)(z)}}]);
//# sourceMappingURL=998.873bb196.chunk.js.map
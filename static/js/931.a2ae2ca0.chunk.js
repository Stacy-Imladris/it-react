"use strict";(self.webpackChunkit_react=self.webpackChunkit_react||[]).push([[931],{9931:function(t,e,r){r.r(e),r.d(e,{default:function(){return U}});var s=r(7853),n=r(4531),o=r(8932),i=r(2587),a=r(2791),u="ProfileInfo_avatar__aRRiq",l="ProfileInfo_descriptionBlock__GGMDZ",d=r(3445);var c=r(2327);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var s,n,o=[],i=!0,a=!1;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(u){a=!0,n=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}return o}}(t,e)||(0,c.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=r(184),h=function(t){var e=t.status,r=t.updateStatus,s=f((0,a.useState)(!1),2),n=s[0],o=s[1],i=f((0,a.useState)(e),2),u=i[0],l=i[1];(0,a.useEffect)((function(){l(e)}),[e]);return(0,p.jsxs)("div",{children:[!n&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){o(!0)},children:e||"no status"})}),n&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},value:u,onBlur:function(){r(u),o(!1)},autoFocus:!0})})]})},v=function(t){var e=t.profile,r=t.status,s=t.updateStatus;if(!e)return(0,p.jsx)(d.p,{});var n=Object.values(e.contacts);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:u,children:(0,p.jsx)("img",{src:(null===e||void 0===e?void 0:e.photos.large)?null===e||void 0===e?void 0:e.photos.large:""})}),(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)(h,{status:r,updateStatus:s}),(0,p.jsx)("div",{children:e.fullName}),(0,p.jsx)("div",{children:e.aboutMe}),(0,p.jsx)("div",{children:e.lookingForAJob?"I'm looking for a job right now":"I don't need a job"}),(0,p.jsx)("div",{children:e.lookingForAJobDescription}),(0,p.jsx)("span",{children:"Where you can find me: "}),n.map((function(t,e){return t&&(0,p.jsx)("div",{children:t},t+e)}))]})]})},j=r(5531),m="MyPosts_postBlock__1A7Uz",x="MyPosts_posts__WlC3n",g="Post_item__z6vKl",y=function(t){var e=t.message,r=t.likeCount;return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("img",{src:"https://99px.ru/sstorage/1/2012/06/image_10406120020582211120.gif"}),e,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"like"})," ",r]})]})},b=r(6139),S=r(704),_=r(3079),k=r(1117),P=(0,_.D)(10),C=(0,S.Z)({form:"profileAddPostForm"})((function(t){var e=t.handleSubmit;return(0,p.jsxs)("form",{onSubmit:e,children:[(0,p.jsx)("div",{children:(0,p.jsx)(b.Z,{placeholder:"Enter your post",name:"newPostBody",component:k.g,validate:[_.C,P]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),A=a.memo((function(t){var e=t.posts,r=t.addPost,s=(0,j.Z)(e).reverse().map((function(t){return(0,p.jsx)(y,{message:t.message,likeCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(C,{onSubmit:function(t){r(t.newPostBody)}}),(0,p.jsx)("div",{className:x,children:s})]})})),I=r(81),Z=r(7375),w=(0,Z.$j)((function(t){return{posts:t.profilePage.posts}}),{addPost:I.ef.addPost})(A),N=function(t){var e=t.profile,r=t.status,s=t.updateStatus;return(0,p.jsxs)("div",{children:[(0,p.jsx)(v,{profile:e,status:r,updateStatus:s}),(0,p.jsx)(w,{})]})},M=r(9723),B=r(97),D=function(t){(0,o.Z)(r,t);var e=(0,i.Z)(r);function r(){return(0,s.Z)(this,r),e.apply(this,arguments)}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props,e=t.match,r=t.authorizedUserId,s=t.history,n=t.getUserProfile,o=t.getStatus,i=+e.params.userId;i||(i=r)||s.push("/login"),n(i),o(i)}},{key:"render",value:function(){return(0,p.jsx)(N,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),r}(a.Component),U=(0,B.qC)((0,Z.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:I.et,getStatus:I.lR,updateStatus:I.Nf}),M.EN)(D)}}]);
//# sourceMappingURL=931.a2ae2ca0.chunk.js.map